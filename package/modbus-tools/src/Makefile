MODBUS_MASTER_SOURCES = modbus-master.c
MODBUS_MASTER_OBJS = $(MODBUS_MASTER_SOURCES:.c=.o)
MODBUS_MASTER_TARGET = modbus-master

MODBUS_SLAVE_SOURCES = modbus-slave.c
MODBUS_SLAVE_OBJS = $(MODBUS_SLAVE_SOURCES:.c=.o)
MODBUS_SLAVE_TARGET = modbus-slave

CFLAGS = -Wall -lmodbus -I$(STAGING_DIR)/usr/include/modbus -Wno-comment

RM = rm -f

all:
	$(CC) $(MODBUS_MASTER_SOURCES) $(CFLAGS) -o $(MODBUS_MASTER_TARGET)
	$(CC) $(MODBUS_SLAVE_SOURCES) $(CFLAGS) -o $(MODBUS_SLAVE_TARGET)

clean:
	$(RM) $(MODBUS_MASTER_OBJS) $(MODBUS_MASTER_TARGET)
	$(RM) $(MODBUS_SLAVE_OBJS) $(MODBUS_SLAVE_TARGET)
